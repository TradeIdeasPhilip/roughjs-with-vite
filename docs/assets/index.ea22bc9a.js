var ie=Object.defineProperty,he=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var Ct=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var It=(o,t,e)=>t in o?ie(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,Dt=(o,t)=>{for(var e in t||(t={}))le.call(t,e)&&It(o,e,t[e]);if(Ct)for(var e of Ct(t))ue.call(t,e)&&It(o,e,t[e]);return o},Wt=(o,t)=>he(o,ce(t));var Gt=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var N=(o,t,e)=>(Gt(o,t,"read from private field"),e?e.call(o):t.get(o)),kt=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},ot=(o,t,e,s)=>(Gt(o,t,"write to private field"),s?s.call(o,e):t.set(o,e),e);const pe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}};pe();function yt(o,t,e){if(o&&o.length){const[s,n]=t,a=Math.PI/180*e,i=Math.cos(a),r=Math.sin(a);o.forEach(l=>{const[p,h]=l;l[0]=(p-s)*i-(h-n)*r+s,l[1]=(p-s)*r+(h-n)*i+n})}}function Mt(o){const t=o[0],e=o[1];return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function st(o,t){const e=t.hachureAngle+90;let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.max(s,.1);const n=[0,0];if(e)for(const i of o)yt(i,n,e);const a=function(i,r){const l=[];for(const u of i){const c=[...u];c[0].join(",")!==c[c.length-1].join(",")&&c.push([c[0][0],c[0][1]]),c.length>2&&l.push(c)}const p=[];r=Math.max(r,.1);const h=[];for(const u of l)for(let c=0;c<u.length-1;c++){const M=u[c],g=u[c+1];if(M[1]!==g[1]){const k=Math.min(M[1],g[1]);h.push({ymin:k,ymax:Math.max(M[1],g[1]),x:k===M[1]?M[0]:g[0],islope:(g[0]-M[0])/(g[1]-M[1])})}}if(h.sort((u,c)=>u.ymin<c.ymin?-1:u.ymin>c.ymin?1:u.x<c.x?-1:u.x>c.x?1:u.ymax===c.ymax?0:(u.ymax-c.ymax)/Math.abs(u.ymax-c.ymax)),!h.length)return p;let d=[],f=h[0].ymin;for(;d.length||h.length;){if(h.length){let u=-1;for(let c=0;c<h.length&&!(h[c].ymin>f);c++)u=c;h.splice(0,u+1).forEach(c=>{d.push({s:f,edge:c})})}if(d=d.filter(u=>!(u.edge.ymax<=f)),d.sort((u,c)=>u.edge.x===c.edge.x?0:(u.edge.x-c.edge.x)/Math.abs(u.edge.x-c.edge.x)),d.length>1)for(let u=0;u<d.length;u+=2){const c=u+1;if(c>=d.length)break;const M=d[u].edge,g=d[c].edge;p.push([[Math.round(M.x),f],[Math.round(g.x),f]])}f+=r,d.forEach(u=>{u.edge.x=u.edge.x+r*u.edge.islope})}return p}(o,s);if(e){for(const i of o)yt(i,n,-e);(function(i,r,l){const p=[];i.forEach(h=>p.push(...h)),yt(p,r,l)})(a,n,-e)}return a}class Ot{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const s=st(t,e);return{type:"fillSketch",ops:this.renderLines(s,e)}}renderLines(t,e){const s=[];for(const n of t)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e));return s}}class fe extends Ot{fillPolygons(t,e){let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const n=st(t,Object.assign({},e,{hachureGap:s})),a=Math.PI/180*e.hachureAngle,i=[],r=.5*s*Math.cos(a),l=.5*s*Math.sin(a);for(const[p,h]of n)Mt([p,h])&&i.push([[p[0]-r,p[1]+l],[...h]],[[p[0]+r,p[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(i,e)}}}class de extends Ot{fillPolygons(t,e){const s=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),a=this._fillPolygons(t,n);return s.ops=s.ops.concat(a.ops),s}}class ge{constructor(t){this.helper=t}fillPolygons(t,e){const s=st(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(s,e)}dotsOnLines(t,e){const s=[];let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);let a=e.fillWeight;a<0&&(a=e.strokeWidth/2);const i=n/4;for(const r of t){const l=Mt(r),p=l/n,h=Math.ceil(p)-1,d=l-h*n,f=(r[0][0]+r[1][0])/2-n/4,u=Math.min(r[0][1],r[1][1]);for(let c=0;c<h;c++){const M=u+d+c*n,g=f-i+2*Math.random()*i,k=M-i+2*Math.random()*i,b=this.helper.ellipse(g,k,a,a,e);s.push(...b.ops)}}return{type:"fillSketch",ops:s}}}class Me{constructor(t){this.helper=t}fillPolygons(t,e){const s=st(t,e);return{type:"fillSketch",ops:this.dashedLine(s,e)}}dashedLine(t,e){const s=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,n=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,a=[];return t.forEach(i=>{const r=Mt(i),l=Math.floor(r/(s+n)),p=(r+n-l*(s+n))/2;let h=i[0],d=i[1];h[0]>d[0]&&(h=i[1],d=i[0]);const f=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let u=0;u<l;u++){const c=u*(s+n),M=c+s,g=[h[0]+c*Math.cos(f)+p*Math.cos(f),h[1]+c*Math.sin(f)+p*Math.sin(f)],k=[h[0]+M*Math.cos(f)+p*Math.cos(f),h[1]+M*Math.sin(f)+p*Math.sin(f)];a.push(...this.helper.doubleLineOps(g[0],g[1],k[0],k[1],e))}}),a}}class ke{constructor(t){this.helper=t}fillPolygons(t,e){const s=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,n=e.zigzagOffset<0?s:e.zigzagOffset,a=st(t,e=Object.assign({},e,{hachureGap:s+n}));return{type:"fillSketch",ops:this.zigzagLines(a,n,e)}}zigzagLines(t,e,s){const n=[];return t.forEach(a=>{const i=Mt(a),r=Math.round(i/(2*e));let l=a[0],p=a[1];l[0]>p[0]&&(l=a[1],p=a[0]);const h=Math.atan((p[1]-l[1])/(p[0]-l[0]));for(let d=0;d<r;d++){const f=2*d*e,u=2*(d+1)*e,c=Math.sqrt(2*Math.pow(e,2)),M=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],g=[l[0]+u*Math.cos(h),l[1]+u*Math.sin(h)],k=[M[0]+c*Math.cos(h+Math.PI/4),M[1]+c*Math.sin(h+Math.PI/4)];n.push(...this.helper.doubleLineOps(M[0],M[1],k[0],k[1],s),...this.helper.doubleLineOps(k[0],k[1],g[0],g[1],s))}}),n}}const O={};class ye{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const at={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function mt(o,t){return o.type===t}function vt(o){const t=[],e=function(i){const r=new Array;for(;i!=="";)if(i.match(/^([ \t\r\n,]+)/))i=i.substr(RegExp.$1.length);else if(i.match(/^([aAcChHlLmMqQsStTvVzZ])/))r[r.length]={type:0,text:RegExp.$1},i=i.substr(RegExp.$1.length);else{if(!i.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];r[r.length]={type:1,text:`${parseFloat(RegExp.$1)}`},i=i.substr(RegExp.$1.length)}return r[r.length]={type:2,text:""},r}(o);let s="BOD",n=0,a=e[n];for(;!mt(a,2);){let i=0;const r=[];if(s==="BOD"){if(a.text!=="M"&&a.text!=="m")return vt("M0,0"+o);n++,i=at[a.text],s=a.text}else mt(a,1)?i=at[s]:(n++,i=at[a.text],s=a.text);if(!(n+i<e.length))throw new Error("Path data ended short");for(let l=n;l<n+i;l++){const p=e[l];if(!mt(p,1))throw new Error("Param not a number: "+s+","+p.text);r[r.length]=+p.text}if(typeof at[s]!="number")throw new Error("Bad segment: "+s);{const l={key:s,data:r};t.push(l),n+=i,a=e[n],s==="M"&&(s="L"),s==="m"&&(s="l")}}return t}function _t(o){let t=0,e=0,s=0,n=0;const a=[];for(const{key:i,data:r}of o)switch(i){case"M":a.push({key:"M",data:[...r]}),[t,e]=r,[s,n]=r;break;case"m":t+=r[0],e+=r[1],a.push({key:"M",data:[t,e]}),s=t,n=e;break;case"L":a.push({key:"L",data:[...r]}),[t,e]=r;break;case"l":t+=r[0],e+=r[1],a.push({key:"L",data:[t,e]});break;case"C":a.push({key:"C",data:[...r]}),t=r[4],e=r[5];break;case"c":{const l=r.map((p,h)=>h%2?p+e:p+t);a.push({key:"C",data:l}),t=l[4],e=l[5];break}case"Q":a.push({key:"Q",data:[...r]}),t=r[2],e=r[3];break;case"q":{const l=r.map((p,h)=>h%2?p+e:p+t);a.push({key:"Q",data:l}),t=l[2],e=l[3];break}case"A":a.push({key:"A",data:[...r]}),t=r[5],e=r[6];break;case"a":t+=r[5],e+=r[6],a.push({key:"A",data:[r[0],r[1],r[2],r[3],r[4],t,e]});break;case"H":a.push({key:"H",data:[...r]}),t=r[0];break;case"h":t+=r[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...r]}),e=r[0];break;case"v":e+=r[0],a.push({key:"V",data:[e]});break;case"S":a.push({key:"S",data:[...r]}),t=r[2],e=r[3];break;case"s":{const l=r.map((p,h)=>h%2?p+e:p+t);a.push({key:"S",data:l}),t=l[2],e=l[3];break}case"T":a.push({key:"T",data:[...r]}),t=r[0],e=r[1];break;case"t":t+=r[0],e+=r[1],a.push({key:"T",data:[t,e]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=s,e=n}return a}function $t(o){const t=[];let e="",s=0,n=0,a=0,i=0,r=0,l=0;for(const{key:p,data:h}of o){switch(p){case"M":t.push({key:"M",data:[...h]}),[s,n]=h,[a,i]=h;break;case"C":t.push({key:"C",data:[...h]}),s=h[4],n=h[5],r=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[s,n]=h;break;case"H":s=h[0],t.push({key:"L",data:[s,n]});break;case"V":n=h[0],t.push({key:"L",data:[s,n]});break;case"S":{let d=0,f=0;e==="C"||e==="S"?(d=s+(s-r),f=n+(n-l)):(d=s,f=n),t.push({key:"C",data:[d,f,...h]}),r=h[0],l=h[1],s=h[2],n=h[3];break}case"T":{const[d,f]=h;let u=0,c=0;e==="Q"||e==="T"?(u=s+(s-r),c=n+(n-l)):(u=s,c=n);const M=s+2*(u-s)/3,g=n+2*(c-n)/3,k=d+2*(u-d)/3,b=f+2*(c-f)/3;t.push({key:"C",data:[M,g,k,b,d,f]}),r=u,l=c,s=d,n=f;break}case"Q":{const[d,f,u,c]=h,M=s+2*(d-s)/3,g=n+2*(f-n)/3,k=u+2*(d-u)/3,b=c+2*(f-c)/3;t.push({key:"C",data:[M,g,k,b,u,c]}),r=d,l=f,s=u,n=c;break}case"A":{const d=Math.abs(h[0]),f=Math.abs(h[1]),u=h[2],c=h[3],M=h[4],g=h[5],k=h[6];d===0||f===0?(t.push({key:"C",data:[s,n,g,k,g,k]}),s=g,n=k):(s!==g||n!==k)&&(Zt(s,n,g,k,d,f,u,c,M).forEach(function(b){t.push({key:"C",data:b})}),s=g,n=k);break}case"Z":t.push({key:"Z",data:[]}),s=a,n=i}e=p}return t}function Y(o,t,e){return[o*Math.cos(e)-t*Math.sin(e),o*Math.sin(e)+t*Math.cos(e)]}function Zt(o,t,e,s,n,a,i,r,l,p){const h=(d=i,Math.PI*d/180);var d;let f=[],u=0,c=0,M=0,g=0;if(p)[u,c,M,g]=p;else{[o,t]=Y(o,t,-h),[e,s]=Y(e,s,-h);const A=(o-e)/2,z=(t-s)/2;let G=A*A/(n*n)+z*z/(a*a);G>1&&(G=Math.sqrt(G),n*=G,a*=G);const Q=n*n,U=a*a,ae=Q*U-Q*z*z-U*A*A,re=Q*z*z+U*A*A,At=(r===l?-1:1)*Math.sqrt(Math.abs(ae/re));M=At*n*z/a+(o+e)/2,g=At*-a*A/n+(t+s)/2,u=Math.asin(parseFloat(((t-g)/a).toFixed(9))),c=Math.asin(parseFloat(((s-g)/a).toFixed(9))),o<M&&(u=Math.PI-u),e<M&&(c=Math.PI-c),u<0&&(u=2*Math.PI+u),c<0&&(c=2*Math.PI+c),l&&u>c&&(u-=2*Math.PI),!l&&c>u&&(c-=2*Math.PI)}let k=c-u;if(Math.abs(k)>120*Math.PI/180){const A=c,z=e,G=s;c=l&&c>u?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,f=Zt(e=M+n*Math.cos(c),s=g+a*Math.sin(c),z,G,n,a,i,0,l,[c,A,M,g])}k=c-u;const b=Math.cos(u),L=Math.sin(u),I=Math.cos(c),w=Math.sin(c),T=Math.tan(k/4),_=4/3*n*T,W=4/3*a*T,nt=[o,t],D=[o+_*L,t-W*b],j=[e+_*w,s-W*I],Et=[e,s];if(D[0]=2*nt[0]-D[0],D[1]=2*nt[1]-D[1],p)return[D,j,Et].concat(f);{f=[D,j,Et].concat(f);const A=[];for(let z=0;z<f.length;z+=3){const G=Y(f[z][0],f[z][1],h),Q=Y(f[z+1][0],f[z+1][1],h),U=Y(f[z+2][0],f[z+2][1],h);A.push([G[0],G[1],Q[0],Q[1],U[0],U[1]])}return A}}const me={randOffset:function(o,t){return y(o,t)},randOffsetWithRange:function(o,t,e){return ut(o,t,e)},ellipse:function(o,t,e,s,n){const a=Ut(e,s,n);return Pt(o,t,n,a).opset},doubleLineOps:function(o,t,e,s,n){return V(o,t,e,s,n,!0)}};function Qt(o,t,e,s,n){return{type:"path",ops:V(o,t,e,s,n)}}function ht(o,t,e){const s=(o||[]).length;if(s>2){const n=[];for(let a=0;a<s-1;a++)n.push(...V(o[a][0],o[a][1],o[a+1][0],o[a+1][1],e));return t&&n.push(...V(o[s-1][0],o[s-1][1],o[0][0],o[0][1],e)),{type:"path",ops:n}}return s===2?Qt(o[0][0],o[0][1],o[1][0],o[1][1],e):{type:"path",ops:[]}}function be(o,t,e,s,n){return function(a,i){return ht(a,!0,i)}([[o,t],[o+e,t],[o+e,t+s],[o,t+s]],n)}function xe(o,t){let e=qt(o,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){const s=qt(o,1.5*(1+.22*t.roughness),function(n){const a=Object.assign({},n);return a.randomizer=void 0,n.seed&&(a.seed=n.seed+1),a}(t));e=e.concat(s)}return{type:"path",ops:e}}function Ut(o,t,e){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(o/2,2)+Math.pow(t/2,2))/2)),n=Math.ceil(Math.max(e.curveStepCount,e.curveStepCount/Math.sqrt(200)*s)),a=2*Math.PI/n;let i=Math.abs(o/2),r=Math.abs(t/2);const l=1-e.curveFitting;return i+=y(i*l,e),r+=y(r*l,e),{increment:a,rx:i,ry:r}}function Pt(o,t,e,s){const[n,a]=Vt(s.increment,o,t,s.rx,s.ry,1,s.increment*ut(.1,ut(.4,1,e),e),e);let i=pt(n,null,e);if(!e.disableMultiStroke&&e.roughness!==0){const[r]=Vt(s.increment,o,t,s.rx,s.ry,1.5,0,e),l=pt(r,null,e);i=i.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:i}}}function Ft(o,t,e,s,n,a,i,r,l){const p=o,h=t;let d=Math.abs(e/2),f=Math.abs(s/2);d+=y(.01*d,l),f+=y(.01*f,l);let u=n,c=a;for(;u<0;)u+=2*Math.PI,c+=2*Math.PI;c-u>2*Math.PI&&(u=0,c=2*Math.PI);const M=2*Math.PI/l.curveStepCount,g=Math.min(M/2,(c-u)/2),k=Bt(g,p,h,d,f,u,c,1,l);if(!l.disableMultiStroke){const b=Bt(g,p,h,d,f,u,c,1.5,l);k.push(...b)}return i&&(r?k.push(...V(p,h,p+d*Math.cos(u),h+f*Math.sin(u),l),...V(p,h,p+d*Math.cos(c),h+f*Math.sin(c),l)):k.push({op:"lineTo",data:[p,h]},{op:"lineTo",data:[p+d*Math.cos(u),h+f*Math.sin(u)]})),{type:"path",ops:k}}function rt(o,t){const e=[];for(const s of o)if(s.length){const n=t.maxRandomnessOffset||0,a=s.length;if(a>2){e.push({op:"move",data:[s[0][0]+y(n,t),s[0][1]+y(n,t)]});for(let i=1;i<a;i++)e.push({op:"lineTo",data:[s[i][0]+y(n,t),s[i][1]+y(n,t)]})}}return{type:"fillPath",ops:e}}function K(o,t){return function(e,s){let n=e.fillStyle||"hachure";if(!O[n])switch(n){case"zigzag":O[n]||(O[n]=new fe(s));break;case"cross-hatch":O[n]||(O[n]=new de(s));break;case"dots":O[n]||(O[n]=new ge(s));break;case"dashed":O[n]||(O[n]=new Me(s));break;case"zigzag-line":O[n]||(O[n]=new ke(s));break;case"hachure":default:n="hachure",O[n]||(O[n]=new Ot(s))}return O[n]}(t,me).fillPolygons(o,t)}function Kt(o){return o.randomizer||(o.randomizer=new ye(o.seed||0)),o.randomizer.next()}function ut(o,t,e,s=1){return e.roughness*s*(Kt(e)*(t-o)+o)}function y(o,t,e=1){return ut(-o,o,t,e)}function V(o,t,e,s,n,a=!1){const i=a?n.disableMultiStrokeFill:n.disableMultiStroke,r=Rt(o,t,e,s,n,!0,!1);if(i)return r;const l=Rt(o,t,e,s,n,!0,!0);return r.concat(l)}function Rt(o,t,e,s,n,a,i){const r=Math.pow(o-e,2)+Math.pow(t-s,2),l=Math.sqrt(r);let p=1;p=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=n.maxRandomnessOffset||0;h*h*100>r&&(h=l/10);const d=h/2,f=.2+.2*Kt(n);let u=n.bowing*n.maxRandomnessOffset*(s-t)/200,c=n.bowing*n.maxRandomnessOffset*(o-e)/200;u=y(u,n,p),c=y(c,n,p);const M=[],g=()=>y(d,n,p),k=()=>y(h,n,p),b=n.preserveVertices;return a&&(i?M.push({op:"move",data:[o+(b?0:g()),t+(b?0:g())]}):M.push({op:"move",data:[o+(b?0:y(h,n,p)),t+(b?0:y(h,n,p))]})),i?M.push({op:"bcurveTo",data:[u+o+(e-o)*f+g(),c+t+(s-t)*f+g(),u+o+2*(e-o)*f+g(),c+t+2*(s-t)*f+g(),e+(b?0:g()),s+(b?0:g())]}):M.push({op:"bcurveTo",data:[u+o+(e-o)*f+k(),c+t+(s-t)*f+k(),u+o+2*(e-o)*f+k(),c+t+2*(s-t)*f+k(),e+(b?0:k()),s+(b?0:k())]}),M}function qt(o,t,e){const s=[];s.push([o[0][0]+y(t,e),o[0][1]+y(t,e)]),s.push([o[0][0]+y(t,e),o[0][1]+y(t,e)]);for(let n=1;n<o.length;n++)s.push([o[n][0]+y(t,e),o[n][1]+y(t,e)]),n===o.length-1&&s.push([o[n][0]+y(t,e),o[n][1]+y(t,e)]);return pt(s,null,e)}function pt(o,t,e){const s=o.length,n=[];if(s>3){const a=[],i=1-e.curveTightness;n.push({op:"move",data:[o[1][0],o[1][1]]});for(let r=1;r+2<s;r++){const l=o[r];a[0]=[l[0],l[1]],a[1]=[l[0]+(i*o[r+1][0]-i*o[r-1][0])/6,l[1]+(i*o[r+1][1]-i*o[r-1][1])/6],a[2]=[o[r+1][0]+(i*o[r][0]-i*o[r+2][0])/6,o[r+1][1]+(i*o[r][1]-i*o[r+2][1])/6],a[3]=[o[r+1][0],o[r+1][1]],n.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){const r=e.maxRandomnessOffset;n.push({op:"lineTo",data:[t[0]+y(r,e),t[1]+y(r,e)]})}}else s===3?(n.push({op:"move",data:[o[1][0],o[1][1]]}),n.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[2][0],o[2][1]]})):s===2&&n.push(...V(o[0][0],o[0][1],o[1][0],o[1][1],e));return n}function Vt(o,t,e,s,n,a,i,r){const l=[],p=[];if(r.roughness===0){o/=4,p.push([t+s*Math.cos(-o),e+n*Math.sin(-o)]);for(let h=0;h<=2*Math.PI;h+=o){const d=[t+s*Math.cos(h),e+n*Math.sin(h)];l.push(d),p.push(d)}p.push([t+s*Math.cos(0),e+n*Math.sin(0)]),p.push([t+s*Math.cos(o),e+n*Math.sin(o)])}else{const h=y(.5,r)-Math.PI/2;p.push([y(a,r)+t+.9*s*Math.cos(h-o),y(a,r)+e+.9*n*Math.sin(h-o)]);const d=2*Math.PI+h-.01;for(let f=h;f<d;f+=o){const u=[y(a,r)+t+s*Math.cos(f),y(a,r)+e+n*Math.sin(f)];l.push(u),p.push(u)}p.push([y(a,r)+t+s*Math.cos(h+2*Math.PI+.5*i),y(a,r)+e+n*Math.sin(h+2*Math.PI+.5*i)]),p.push([y(a,r)+t+.98*s*Math.cos(h+i),y(a,r)+e+.98*n*Math.sin(h+i)]),p.push([y(a,r)+t+.9*s*Math.cos(h+.5*i),y(a,r)+e+.9*n*Math.sin(h+.5*i)])}return[p,l]}function Bt(o,t,e,s,n,a,i,r,l){const p=a+y(.1,l),h=[];h.push([y(r,l)+t+.9*s*Math.cos(p-o),y(r,l)+e+.9*n*Math.sin(p-o)]);for(let d=p;d<=i;d+=o)h.push([y(r,l)+t+s*Math.cos(d),y(r,l)+e+n*Math.sin(d)]);return h.push([t+s*Math.cos(i),e+n*Math.sin(i)]),h.push([t+s*Math.cos(i),e+n*Math.sin(i)]),pt(h,null,l)}function we(o,t,e,s,n,a,i,r){const l=[],p=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let h=[0,0];const d=r.disableMultiStroke?1:2,f=r.preserveVertices;for(let u=0;u<d;u++)u===0?l.push({op:"move",data:[i[0],i[1]]}):l.push({op:"move",data:[i[0]+(f?0:y(p[0],r)),i[1]+(f?0:y(p[0],r))]}),h=f?[n,a]:[n+y(p[u],r),a+y(p[u],r)],l.push({op:"bcurveTo",data:[o+y(p[u],r),t+y(p[u],r),e+y(p[u],r),s+y(p[u],r),h[0],h[1]]});return l}function tt(o){return[...o]}function ct(o,t){return Math.pow(o[0]-t[0],2)+Math.pow(o[1]-t[1],2)}function ve(o,t,e){const s=ct(t,e);if(s===0)return ct(o,t);let n=((o[0]-t[0])*(e[0]-t[0])+(o[1]-t[1])*(e[1]-t[1]))/s;return n=Math.max(0,Math.min(1,n)),ct(o,Z(t,e,n))}function Z(o,t,e){return[o[0]+(t[0]-o[0])*e,o[1]+(t[1]-o[1])*e]}function St(o,t,e,s){const n=s||[];if(function(r,l){const p=r[l+0],h=r[l+1],d=r[l+2],f=r[l+3];let u=3*h[0]-2*p[0]-f[0];u*=u;let c=3*h[1]-2*p[1]-f[1];c*=c;let M=3*d[0]-2*f[0]-p[0];M*=M;let g=3*d[1]-2*f[1]-p[1];return g*=g,u<M&&(u=M),c<g&&(c=g),u+c}(o,t)<e){const r=o[t+0];n.length?(a=n[n.length-1],i=r,Math.sqrt(ct(a,i))>1&&n.push(r)):n.push(r),n.push(o[t+3])}else{const l=o[t+0],p=o[t+1],h=o[t+2],d=o[t+3],f=Z(l,p,.5),u=Z(p,h,.5),c=Z(h,d,.5),M=Z(f,u,.5),g=Z(u,c,.5),k=Z(M,g,.5);St([l,f,M,k],0,e,n),St([k,g,c,d],0,e,n)}var a,i;return n}function Pe(o,t){return ft(o,0,o.length,t)}function ft(o,t,e,s,n){const a=n||[],i=o[t],r=o[e-1];let l=0,p=1;for(let h=t+1;h<e-1;++h){const d=ve(o[h],i,r);d>l&&(l=d,p=h)}return Math.sqrt(l)>s?(ft(o,t,p+1,s,a),ft(o,p,e,s,a)):(a.length||a.push(i),a.push(r)),a}function Ht(o,t=.15,e){const s=[],n=(o.length-1)/3;for(let a=0;a<n;a++)St(o,3*a,t,s);return e&&e>0?ft(s,0,s.length,e):s}const E="none";class dt{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,n,a){const i=this._o(a);return this._d("line",[Qt(t,e,s,n,i)],i)}rectangle(t,e,s,n,a){const i=this._o(a),r=[],l=be(t,e,s,n,i);if(i.fill){const p=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];i.fillStyle==="solid"?r.push(rt([p],i)):r.push(K([p],i))}return i.stroke!==E&&r.push(l),this._d("rectangle",r,i)}ellipse(t,e,s,n,a){const i=this._o(a),r=[],l=Ut(s,n,i),p=Pt(t,e,i,l);if(i.fill)if(i.fillStyle==="solid"){const h=Pt(t,e,i,l).opset;h.type="fillPath",r.push(h)}else r.push(K([p.estimatedPoints],i));return i.stroke!==E&&r.push(p.opset),this._d("ellipse",r,i)}circle(t,e,s,n){const a=this.ellipse(t,e,s,s,n);return a.shape="circle",a}linearPath(t,e){const s=this._o(e);return this._d("linearPath",[ht(t,!1,s)],s)}arc(t,e,s,n,a,i,r=!1,l){const p=this._o(l),h=[],d=Ft(t,e,s,n,a,i,r,!0,p);if(r&&p.fill)if(p.fillStyle==="solid"){const f=Object.assign({},p);f.disableMultiStroke=!0;const u=Ft(t,e,s,n,a,i,!0,!1,f);u.type="fillPath",h.push(u)}else h.push(function(f,u,c,M,g,k,b){const L=f,I=u;let w=Math.abs(c/2),T=Math.abs(M/2);w+=y(.01*w,b),T+=y(.01*T,b);let _=g,W=k;for(;_<0;)_+=2*Math.PI,W+=2*Math.PI;W-_>2*Math.PI&&(_=0,W=2*Math.PI);const nt=(W-_)/b.curveStepCount,D=[];for(let j=_;j<=W;j+=nt)D.push([L+w*Math.cos(j),I+T*Math.sin(j)]);return D.push([L+w*Math.cos(W),I+T*Math.sin(W)]),D.push([L,I]),K([D],b)}(t,e,s,n,a,i,p));return p.stroke!==E&&h.push(d),this._d("arc",h,p)}curve(t,e){const s=this._o(e),n=[],a=xe(t,s);if(s.fill&&s.fill!==E&&t.length>=3){const i=Ht(function(r,l=0){const p=r.length;if(p<3)throw new Error("A curve must have at least three points.");const h=[];if(p===3)h.push(tt(r[0]),tt(r[1]),tt(r[2]),tt(r[2]));else{const d=[];d.push(r[0],r[0]);for(let c=1;c<r.length;c++)d.push(r[c]),c===r.length-1&&d.push(r[c]);const f=[],u=1-l;h.push(tt(d[0]));for(let c=1;c+2<d.length;c++){const M=d[c];f[0]=[M[0],M[1]],f[1]=[M[0]+(u*d[c+1][0]-u*d[c-1][0])/6,M[1]+(u*d[c+1][1]-u*d[c-1][1])/6],f[2]=[d[c+1][0]+(u*d[c][0]-u*d[c+2][0])/6,d[c+1][1]+(u*d[c][1]-u*d[c+2][1])/6],f[3]=[d[c+1][0],d[c+1][1]],h.push(f[1],f[2],f[3])}}return h}(t),10,(1+s.roughness)/2);s.fillStyle==="solid"?n.push(rt([i],s)):n.push(K([i],s))}return s.stroke!==E&&n.push(a),this._d("curve",n,s)}polygon(t,e){const s=this._o(e),n=[],a=ht(t,!0,s);return s.fill&&(s.fillStyle==="solid"?n.push(rt([t],s)):n.push(K([t],s))),s.stroke!==E&&n.push(a),this._d("polygon",n,s)}path(t,e){const s=this._o(e),n=[];if(!t)return this._d("path",n,s);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=s.fill&&s.fill!=="transparent"&&s.fill!==E,i=s.stroke!==E,r=!!(s.simplification&&s.simplification<1),l=function(p,h,d){const f=$t(_t(vt(p))),u=[];let c=[],M=[0,0],g=[];const k=()=>{g.length>=4&&c.push(...Ht(g,h)),g=[]},b=()=>{k(),c.length&&(u.push(c),c=[])};for(const{key:I,data:w}of f)switch(I){case"M":b(),M=[w[0],w[1]],c.push(M);break;case"L":k(),c.push([w[0],w[1]]);break;case"C":if(!g.length){const T=c.length?c[c.length-1]:M;g.push([T[0],T[1]])}g.push([w[0],w[1]]),g.push([w[2],w[3]]),g.push([w[4],w[5]]);break;case"Z":k(),c.push([M[0],M[1]])}if(b(),!d)return u;const L=[];for(const I of u){const w=Pe(I,d);w.length&&L.push(w)}return L}(t,1,r?4-4*s.simplification:(1+s.roughness)/2);return a&&(s.fillStyle==="solid"?n.push(rt(l,s)):n.push(K(l,s))),i&&(r?l.forEach(p=>{n.push(ht(p,!1,s))}):n.push(function(p,h){const d=$t(_t(vt(p))),f=[];let u=[0,0],c=[0,0];for(const{key:M,data:g}of d)switch(M){case"M":{const k=1*(h.maxRandomnessOffset||0),b=h.preserveVertices;f.push({op:"move",data:g.map(L=>L+(b?0:y(k,h)))}),c=[g[0],g[1]],u=[g[0],g[1]];break}case"L":f.push(...V(c[0],c[1],g[0],g[1],h)),c=[g[0],g[1]];break;case"C":{const[k,b,L,I,w,T]=g;f.push(...we(k,b,L,I,w,T,c,h)),c=[w,T];break}case"Z":f.push(...V(c[0],c[1],u[0],u[1],h)),c=[u[0],u[1]]}return{type:"path",ops:f}}(t,s))),this._d("path",n,s)}opsToPath(t,e){let s="";for(const n of t.ops){const a=typeof e=="number"&&e>=0?n.data.map(i=>+i.toFixed(e)):n.data;switch(n.op){case"move":s+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":s+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":s+=`L${a[0]} ${a[1]} `}}return s.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,n=[];for(const a of e){let i=null;switch(a.type){case"path":i={d:this.opsToPath(a),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:E};break;case"fillPath":i={d:this.opsToPath(a),stroke:E,strokeWidth:0,fill:s.fill||E};break;case"fillSketch":i=this.fillSketch(a,s)}i&&n.push(i)}return n}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||E,strokeWidth:s,fill:E}}}class Se{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new dt(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const i of e)switch(i.type){case"path":n.save(),n.strokeStyle=s.stroke==="none"?"transparent":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,i,a),n.restore();break;case"fillPath":{n.save(),n.fillStyle=s.fill||"";const r=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,i,a,r),n.restore();break}case"fillSketch":this.fillSketch(n,i,s)}}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||"",t.lineWidth=n,this._drawToContext(t,e,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,s,n="nonzero"){t.beginPath();for(const a of e.ops){const i=typeof s=="number"&&s>=0?a.data.map(r=>+r.toFixed(s)):a.data;switch(a.op){case"move":t.moveTo(i[0],i[1]);break;case"bcurveTo":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":t.lineTo(i[0],i[1])}}e.type==="fillPath"?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,n,a){const i=this.gen.line(t,e,s,n,a);return this.draw(i),i}rectangle(t,e,s,n,a){const i=this.gen.rectangle(t,e,s,n,a);return this.draw(i),i}ellipse(t,e,s,n,a){const i=this.gen.ellipse(t,e,s,n,a);return this.draw(i),i}circle(t,e,s,n){const a=this.gen.circle(t,e,s,n);return this.draw(a),a}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,n,a,i,r=!1,l){const p=this.gen.arc(t,e,s,n,a,i,r,l);return this.draw(p),p}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const it="http://www.w3.org/2000/svg";class ze{constructor(t,e){this.svg=t,this.gen=new dt(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,a=n.createElementNS(it,"g"),i=t.options.fixedDecimalPlaceDigits;for(const r of e){let l=null;switch(r.type){case"path":l=n.createElementNS(it,"path"),l.setAttribute("d",this.opsToPath(r,i)),l.setAttribute("stroke",s.stroke),l.setAttribute("stroke-width",s.strokeWidth+""),l.setAttribute("fill","none"),s.strokeLineDash&&l.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":l=n.createElementNS(it,"path"),l.setAttribute("d",this.opsToPath(r,i)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",s.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(n,r,s)}l&&a.appendChild(l)}return a}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const a=t.createElementNS(it,"path");return a.setAttribute("d",this.opsToPath(e,s.fixedDecimalPlaceDigits)),a.setAttribute("stroke",s.fill||""),a.setAttribute("stroke-width",n+""),a.setAttribute("fill","none"),s.fillLineDash&&a.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,s,n,a){const i=this.gen.line(t,e,s,n,a);return this.draw(i)}rectangle(t,e,s,n,a){const i=this.gen.rectangle(t,e,s,n,a);return this.draw(i)}ellipse(t,e,s,n,a){const i=this.gen.ellipse(t,e,s,n,a);return this.draw(i)}circle(t,e,s,n){const a=this.gen.circle(t,e,s,n);return this.draw(a)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,n,a,i,r=!1,l){const p=this.gen.arc(t,e,s,n,a,i,r,l);return this.draw(p)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var Le={canvas:(o,t)=>new Se(o,t),svg:(o,t)=>new ze(o,t),generator:o=>new dt(o),newSeed:()=>dt.newSeed()};function H(o,t,e,s){const n=(s-t)/(e-o);return function(a){return(a-o)*n+t}}function B(o,t){const e=document.getElementById(o);if(!e)throw new Error("Could not find element with id "+o+".  Expected type:  "+t.name);if(e instanceof t)return e;throw new Error("Element with id "+o+" has type "+e.constructor.name+".  Expected type:  "+t.name)}function Oe(o){const t=new AudioContext,e=t.createMediaElementSource(o),s=new StereoPannerNode(t,{pan:0});return e.connect(s).connect(t.destination),n=>{s.pan.value=n}}var Te="./assets/Whack.b58513e2.mp3";const x=14,m=-x,Tt=1.5,C=m+Tt,$=x-Tt,bt=$-C,Ee=1,Ae=99,Jt=H(x,1,m,.5);function P({x:o,y:t,z:e}){const s=Jt(e),n=H(m/s,Ee,x/s,Ae),a=n(o),i=n(-t);return[a,i]}const jt=B("background",SVGGElement),Xt=B("foreground",SVGGElement),Ce=B("main",SVGSVGElement),lt=Le.svg(Ce);function Ie(o,t,e){const s=1-e;return[o[0]*e+t[0]*s,o[1]*e+t[1]*s]}var R,X;const J=class{constructor(t,e,s=e){kt(this,R,void 0);if(this.points=t,this.color=e,this.bounceColor=s,t.length!=4)throw new Error("wtf");this.refresh()}static options(t){return{stroke:"none",fill:t,fillStyle:"zigzag",hachureGap:5,disableMultiStrokeFill:!0,hachureAngle:Math.random()*360}}clear(){N(this,R)&&N(this,R).remove(),ot(this,R,void 0)}refresh(){this.clear(),ot(this,R,lt.polygon(this.points,J.options(this.color))),jt.appendChild(N(this,R))}highlightPoint(t,e){this.clear();const s=document.createElementNS("http://www.w3.org/2000/svg","g"),n=J.options(this.color),a=lt.polygon(this.points,n);s.appendChild(a),ot(this,R,s),jt.appendChild(s);const i=P(t),r=e,l=r+350,p=H(r,.025,l,.5),h=H(r,2,l,10),d=H(r,.85,l,.05);let f,u=-1/0;const c=Wt(Dt({},n),{hachureAngle:n.hachureAngle+45,fillStyle:"cross-hatch",roughness:4,fill:this.bounceColor}),M=g=>{if(!(g<u))if(u=g+100+Math.random()*75,f&&(f.remove(),f=void 0),g>l)N(J,X).delete(this);else{const k=p(g);if(!isFinite(k)||k<0||k>1)debugger;const b=this.points.map(L=>Ie(L,i,k));c.hachureGap=h(g),c.fillWeight=d(g),f=lt.polygon(b,c),s.appendChild(f)}};N(J,X).set(this,M)}static timerUpdate(t){for(const e of N(this,X).values())e(t)}};let q=J;R=new WeakMap,X=new WeakMap,kt(q,X,new Map);const Yt=new q([P({x:m,y:m,z:m}),P({x:m,y:x,z:m}),P({x:m,y:x,z:x}),P({x:m,y:m,z:x})],"#008000"),te=new q([P({x,y:m,z:m}),P({x,y:x,z:m}),P({x,y:x,z:x}),P({x,y:m,z:x})],"#000080"),ee=new q([P({x:m,y:x,z:m}),P({x,y:x,z:m}),P({x,y:x,z:x}),P({x:m,y:x,z:x})],"#808000"),se=new q([P({x:m,y:m,z:m}),P({x,y:m,z:m}),P({x,y:m,z:x}),P({x:m,y:m,z:x})],"#008080"),ne=new q([P({x:m,y:m,z:m}),P({x,y:m,z:m}),P({x,y:x,z:m}),P({x:m,y:x,z:m})],"#800000");window.walls={top:ee,bottom:se,left:Yt,right:te,back:ne};function De(o,t=!1){const e=(t?2.5:1)*Tt*Jt(o.z)*2,[s,n]=P(o),a=lt.circle(s,n,e,{fill:"#ffa0a0",stroke:"none",strokeWidth:.2,disableMultiStroke:!0,fillStyle:"solid",roughness:t?1:.3333,curveStepCount:t?50:9});return Xt.appendChild(a),a}const v={x:Math.random()*bt+C,y:Math.random()*bt+C,z:Math.random()*bt+C};let S={x:Math.random()*50-25,y:Math.random()*50-25,z:Math.random()*50-25},xt,zt=-1/0;const F=B("whack",HTMLAudioElement);F.src=Te;const We=H($,1,C,.25);let wt;const Ge=H(C,-1,$,1);function _e(o){const t=()=>{try{F.muted||(F.pause(),F.currentTime=0,F.volume=We(v.z),wt||(wt=Oe(F)),wt(Ge(v.x)),F.play())}catch(e){console.warn("Unable to do audio stuff",e)}zt=-1/0};if(xt!==void 0){const e=(o-xt)/1e3;if(e<=0)return;v.x+=S.x*e,v.x<C?(v.x=C,S.x=Math.abs(S.x),Yt.highlightPoint(v,o),t()):v.x>$&&(v.x=$,S.x=-Math.abs(S.x),te.highlightPoint(v,o),t()),v.y+=S.y*e,v.y<C?(v.y=C,S.y=Math.abs(S.y),se.highlightPoint(v,o),t()):v.y>$&&(v.y=$,S.y=-Math.abs(S.y),ee.highlightPoint(v,o),t()),v.z+=S.z*e,v.z<C?(v.z=C,S.z=Math.abs(S.z),ne.highlightPoint(v,o),t()):v.z>$&&(v.z=$,S.z=-Math.abs(S.z),Lt=!0,t())}xt=o}let Lt=!1,et;function $e(o){o.classList.add("fade"),setTimeout(()=>o.remove(),500)}function oe(o){requestAnimationFrame(oe),_e(o),o>zt&&(et&&($e(et),et=void 0),et=De(v,Lt),Lt=!1,Xt.appendChild(et),zt=o+100+Math.random()*100),q.timerUpdate(o)}requestAnimationFrame(oe);const Fe=B("mute",HTMLInputElement),Re=B("unmute",HTMLInputElement),qe=B("close-controls",HTMLDivElement),gt=B("controls",HTMLDivElement);Fe.addEventListener("click",()=>F.muted=!0);Re.addEventListener("click",()=>F.muted=!1);qe.addEventListener("click",()=>gt.style.display="none");document.body.addEventListener("click",()=>{gt.style.display=gt.style.display==""?"none":""});gt.addEventListener("click",o=>o.cancelBubble=!0);const Ve=H(0,0,5,21.7),Nt=B("speed",HTMLInputElement);Nt.addEventListener("input",()=>{const o=parseInt(Nt.value),t=Ve(o);S=Be(t),console.log({inputSpeed:o,speed:t,ballVelocity:S,resultingSpeed:Math.hypot(S.x,S.y,S.z)})});function Be(o=1){function t(){return Math.random()+Math.random()+Math.random()+Math.random()-2}const e={x:t(),y:t(),z:t()},s=Math.hypot(e.x,e.y,e.z),n=o/s;return e.x*=n,e.y*=n,e.z*=n,e}
